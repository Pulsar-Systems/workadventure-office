const c=async()=>{await WA.onInit(),await WA.players.configureTracking({players:!0,movement:!1});let a;const s=WA.room.onEnterLayer("Trigger/Welcome").subscribe(()=>{a=WA.ui.openPopup("WelcomePopup","Welcome to Pulsar Systems Office !",[])});WA.room.onLeaveLayer("Trigger/Welcome").subscribe(()=>{a.close(),s.unsubscribe()});const o=WA.room.area.create({name:"Juckbox",x:741,y:760,width:436,height:229}),l=[{name:"Jimmy Punchline",file:"music/jimmy-punchline.mp3"},{name:"Gangnam Style",file:"music/gangnam-style.mp3"}];let r;WA.room.onEnterLayer("Trigger/Jukebox").subscribe(()=>{r=WA.ui.openPopup("JukeboxPopup","Jukebox",[...l.map(e=>({label:e.name,className:"primary",callback:i=>{o.setProperty("playAudio",e.file),WA.player.state.saveVariable("Jukebox",e.file,{public:!0,persist:!1,scope:"room"}),i.close()}})),{label:"Stop",className:"primary",callback:e=>{o.setProperty("playAudio",void 0),WA.player.state.saveVariable("Jukebox",void 0,{public:!0,persist:!1,scope:"room"}),e.close()}}])}),WA.room.onLeaveLayer("Trigger/Jukebox").subscribe(()=>{r.close()}),WA.players.onVariableChange("Jukebox").subscribe(e=>{o.setProperty("playAudio",e.value)})};c().then();
